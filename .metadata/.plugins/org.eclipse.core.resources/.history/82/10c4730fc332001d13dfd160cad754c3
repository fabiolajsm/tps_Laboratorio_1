/*
 * validaciones.c
 *
 *  Created on: 11 sep. 2022
 *      Author: fsuarez
 */
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#define MAXIMO_DE_JUGADORES 22

int esNumeroDisponible(int num, int vector[], char *mensajeExito,
		char *mensajeError, int intentos) {
	int ret = -1;
	if (vector != NULL && MAXIMO_DE_JUGADORES > 0 && num > 0) {
		while (intentos > 0) {
			for (int i = 0; i < MAXIMO_DE_JUGADORES; i++) {
				printf("\nnumeros en cada vuelta  %d\n", vector[i]);
				if (vector[num - 1] == num) {
					intentos--;
					printf("%s", mensajeError);
				} else {
					vector[num - 1] = num;
					ret = 0;
					printf("%s", mensajeExito);
					break;
				}
				printf("\nnumeros en cada vuelta 2222222222 %d\n", vector[i]);
			}
			break;
		}
	}
	return ret;
}

static int esNumerica(char cadena[]) {
	int i = 0;
	int retorno = 1;
	if (cadena != NULL && strlen(cadena) > 0) {
		while (cadena[i] != '\0') {
			if (cadena[i] < '0' || cadena[i] > '9') {
				retorno = 0;
				break;
			}
			i++;
		}
	}
	return retorno;
}

static int getInt(int *pResultado) {
	int ret = -1;
	char buffer[1024];

	fgets(buffer, sizeof(buffer), stdin);
	buffer[strlen(buffer) - 1] = '\0';

	if (esNumerica(buffer) == 1) {
		*pResultado = atoi(buffer);
		ret = 1;
	}
	return ret;
}

int getNumero(int *pResultado, char *mensaje, char *mensajeError, int minimo,
		int maximo, int intentos, int validarDisponible) {
	int ret = -1;
	int num;

	if (pResultado != NULL && mensaje != NULL && mensajeError != NULL) {
		while (intentos > 0) {
			printf("%s", mensaje);
			if (getInt(&num) == 1) {
				if (num <= maximo && num >= minimo) {
					*pResultado = num;
					ret = 0;
					break;
				}
			}
			intentos--;
			printf("%s", mensajeError);
		}
	}
	return ret;
}

void inicializarVector(int vector[], int size) {
	for (int i = 0; i < size; i++) {
		vector[i] = i;
	}
}

